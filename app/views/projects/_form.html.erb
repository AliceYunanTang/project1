<div class="container">
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <%= form_for @project do |f| %>

      <p>
        <%= f.label :name %>
        <%= f.text_field :name, required: true %>
      </p>

      <p>
        <%= f.label :description %>
        <%= f.text_field :description, required: true %>
      </p>

      <p>
        <%= f.label :location %>
        <%= f.text_field :location, required: false %>
      </p>

      <p>
        <%= f.label :image %>
        <%= f.cl_image_upload :image %>
      </p>

      <h3>Assigned Users</h3>
      <p>
        <% @users.each do |user| %>
        <%= user.name %>
        <% end %>
      </p>

      <% unless @users.empty? %>
      <h3>Remover Users</h3>
      <p>
        <%#= label_tag :remove_user %>
        <%= collection_check_boxes( :remove_user, :id, @users, :id, :name, {:prompt => true}, {multiple: true}) do |b| %>
        <%=   b.label(:"data-value" => b.value) { b.check_box + b.text } %>
        <% end %>
        <% end %>
      </p>
      <h3>Add Users</h3>
      <p>

        <%#= label_tag :add_user %>
        <%#= collection_select( :user, :id, @all_users, :id, :name, include_blank: true ) %>

        <%#= collection_check_boxes( :user, :id, @all_users, :id, :name, {:prompt => true}, {multiple: true}) %>
        <%= collection_check_boxes( :add_user, :id, @all_users, :id, :name, {:prompt => true}, {multiple: true}) do |b| %>

        <%=   b.label(:"data-value" => b.value) { b.check_box + b.text } %>
        <% end %>
      </p>

      <%= f.submit %>
      <% end %>
    </div>
  </div>
</div>
